{"ast":null,"code":"import _classCallCheck from \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/src/components/Dashboard.js\";\n\n/* eslint-disable */\nimport React from 'react';\nimport { Table, Button, Switch, Input, Menu, Dropdown, Icon, Popconfirm } from 'antd';\nimport 'antd/dist/antd.css';\nimport { withRouter } from 'react-router-dom';\nimport request from 'request';\nimport axios from 'axios';\nimport Walkthrough from './Walkthrough';\nimport CardNote from './CardNote/CardNote';\nimport NavigationBar from './NavigationBar';\nimport '../css/dashboard.css';\nimport { mergeSort } from '../defaults/constants';\nvar Search = Input.Search;\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this.state = {\n      notes: null,\n      credentials: {\n        runTutorial: null\n      },\n      menu: React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this.sortNotes('category');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"By Category\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this.sortNotes('lastUpdated');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"By Last Updated\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: function onClick() {\n          return _this.sortNotes('title');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"By Name (A-Z)\"))),\n      noteColumns: [{\n        title: 'Document Name',\n        dataIndex: 'title',\n        render: function render(text, record) {\n          return {\n            props: {\n              style: {\n                background: record.noteColor\n              }\n            },\n            children: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44\n              },\n              __self: this\n            }, text)\n          };\n        }\n      }, {\n        title: 'Date Created',\n        dataIndex: 'createdAt',\n        render: function render(text, record) {\n          return {\n            props: {\n              style: {\n                background: record.noteColor\n              }\n            },\n            children: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 55\n              },\n              __self: this\n            }, text)\n          };\n        }\n      }, {\n        title: 'Last Updated',\n        dataIndex: 'lastUpdated',\n        render: function render(text, record) {\n          return {\n            props: {\n              style: {\n                background: record.noteColor\n              }\n            },\n            children: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66\n              },\n              __self: this\n            }, text)\n          };\n        }\n      }, {\n        title: 'Category',\n        dataIndex: 'category',\n        render: function render(text, record) {\n          return {\n            props: {\n              style: {\n                background: record.noteColor\n              }\n            },\n            children: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77\n              },\n              __self: this\n            }, text)\n          };\n        }\n      }, {\n        title: 'Action',\n        className: \"classNameOfColumn\",\n        render: function render(text, record) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: 'editNote',\n            onClick: function onClick() {\n              return _this.goToNote(record._id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, \"Edit | \"), React.createElement(Popconfirm, {\n            title: \"Are you sure you want to delete this note?\",\n            onConfirm: function onConfirm() {\n              return _this.deleteNote(localStorage.getItem('email'), record._id);\n            },\n            okText: \"Yes\",\n            cancelText: \"No\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: 'deleteNote',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, \"Delete\")));\n        }\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!localStorage.getItem('id')) {\n        return this.props.history.push('/login');\n      }\n\n      var id = localStorage.getItem('id');\n      var refreshToken = localStorage.getItem('refresh_token');\n      var AuthStr = 'Bearer '.concat(refreshToken);\n      axios.get('http://127.0.0.1:5000/refresh', {\n        headers: {\n          Authorization: AuthStr\n        }\n      }).then(function (response) {\n        console.log(\"NEW ACCESS TOKEN\");\n        localStorage.setItem('access_token', response.data.access_token);\n        console.log(localStorage.getItem('access_token'));\n      }).catch(function (error) {\n        console.log(error, 'ERROR - BAD REFRESH TOKEN');\n      });\n      var access_token_new = localStorage.getItem('access_token');\n      AuthStr = 'Bearer '.concat(access_token_new);\n      axios.get('http://127.0.0.1:5000/get-data', {\n        headers: {\n          Authorization: AuthStr\n        },\n        params: {\n          id: id\n        }\n      }).then(function (response) {\n        _this2.setState({\n          notes: response.data.notes,\n          credentials: response.data.credentials\n        });\n      }).catch(function (error) {\n        console.log(error, 'ERROR - INVALID or NO COOKIES');\n      });\n    }\n  }, {\n    key: \"createNote\",\n    value: function createNote(email) {\n      var _this3 = this;\n\n      var accessToken = localStorage.getItem('access_token');\n      var AuthStr = 'Bearer '.concat(accessToken);\n      var headers = {\n        Authorization: AuthStr\n      };\n      console.log(headers);\n      axios.get('http://127.0.0.1:5000/new-note', {\n        headers: headers\n      }).then(function (response) {\n        var parsedData = response.data;\n\n        _this3.goToNote(parsedData._id);\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this4 = this;\n\n      var accessToken = localStorage.getItem('access_token');\n      var refreshToken = localStorage.getItem('refresh_token');\n      var AuthStr = 'Bearer '.concat(accessToken);\n      var AuthStr2 = 'Bearer '.concat(refreshToken);\n      var headers = {\n        Authorization: AuthStr\n      };\n      axios.get('http://127.0.0.1:5000/logout', {\n        headers: headers\n      });\n      axios.get('http://127.0.0.1:5000/logout2', {\n        headers: {\n          Authorization: AuthStr2\n        }\n      }).then(function (response) {\n        localStorage.clear();\n\n        _this4.props.history.push('/login');\n      });\n    }\n  }, {\n    key: \"switchView\",\n    value: function switchView(child) {\n      if (child) {\n        this.setState({\n          isTableView: true\n        });\n      } else {\n        this.setState({\n          isTableView: false\n        });\n      }\n    }\n  }, {\n    key: \"sortNotes\",\n    value: function sortNotes(option) {\n      var sortedNotes = mergeSort(this.state.notes, option);\n      this.setState({\n        notes: sortedNotes\n      });\n    }\n  }, {\n    key: \"searchNotes\",\n    value: function searchNotes(query) {\n      var _this5 = this;\n\n      var accessToken = localStorage.getItem('access_token');\n      var AuthStr = 'Bearer '.concat(accessToken);\n      var headers = {\n        Authorization: AuthStr\n      };\n      axios.get('http://127.0.0.1:5000/get-notes', {\n        headers: headers\n      }).then(function (response) {\n        var parsedData = response.data;\n\n        if (query.trim().length !== 0) {\n          var filteredNotes = [];\n\n          for (var note in parsedData.notes) {\n            if (parsedData.notes[note].title.toLowerCase().includes(query.toLowerCase()) || parsedData.notes[note].category.toLowerCase().includes(query.toLowerCase())) {\n              filteredNotes.push(parsedData.notes[note]);\n            }\n          }\n\n          _this5.setState({\n            'notes': filteredNotes\n          });\n        } else {\n          _this5.setState({\n            'notes': parsedData.notes\n          });\n        }\n      });\n    }\n  }, {\n    key: \"deleteNote\",\n    value: function deleteNote(email, noteID) {\n      var _this6 = this;\n\n      var accessToken = localStorage.getItem('access_token');\n      var AuthStr = 'Bearer '.concat(accessToken);\n      var headers = {\n        Authorization: AuthStr,\n        'Content-Type': 'application/x-www-form-urlencoded'\n      };\n      var deleteNote = {\n        method: 'DELETE',\n        url: 'http://127.0.0.1:5000/delete-note',\n        qs: {\n          noteID: noteID\n        },\n        headers: headers\n      };\n      request(deleteNote, function (error, response, body) {\n        var parsedData = JSON.parse(body);\n\n        _this6.setState({\n          notes: parsedData.notes\n        });\n      });\n    }\n  }, {\n    key: \"goToNote\",\n    value: function goToNote(noteID) {\n      this.props.history.push({\n        pathname: \"/note/\".concat(noteID),\n        state: {\n          noteID: noteID\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      document.body.style.backgroundColor = \"#eaeaea\";\n\n      if (!this.state.isTableView) {\n        return React.createElement(\"div\", {\n          style: {\n            background: \"#eaeaea\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(NavigationBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"middle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"child\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(Walkthrough, {\n          runTutorial: this.state.credentials.runTutorial,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }), React.createElement(Search, {\n          onChange: function onChange(searchContent) {\n            return _this7.searchNotes(searchContent.target.value);\n          },\n          style: {\n            width: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(Dropdown, {\n          overlay: this.state.menu,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          type: \"filter\",\n          theme: \"filled\",\n          style: {\n            'color': '#466fb5'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        })), React.createElement(Switch, {\n          checkedChildren: \"table\",\n          unCheckedChildren: \"card\",\n          onChange: function onChange(child) {\n            return _this7.switchView(child);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }), React.createElement(Icon, {\n          type: \"setting\",\n          theme: \"filled\",\n          onClick: function onClick() {\n            return _this7.props.history.push('/default-settings');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }), React.createElement(Button, {\n          type: \"primary\",\n          className: \"generateNewNote\",\n          onClick: function onClick() {\n            return _this7.createNote(localStorage.getItem('email'));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, \"New Document\"))), React.createElement(\"div\", {\n          className: \"bottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(CardNote, {\n          notes: this.state.notes,\n          history: this.props.history,\n          style: {\n            color: \"#ffffff\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        })));\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          background: \"#eaeaea\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(NavigationBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"child\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Walkthrough, {\n        runTutorial: this.state.credentials.runTutorial,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(Search, {\n        onChange: function onChange(searchContent) {\n          return _this7.searchNotes(searchContent.target.value);\n        },\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(Dropdown, {\n        overlay: this.state.menu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"filter\",\n        theme: \"filled\",\n        style: {\n          'color': '#466fb5'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })), React.createElement(Switch, {\n        checkedChildren: \"table\",\n        unCheckedChildren: \"card\",\n        defaultChecked: true,\n        onChange: function onChange(child) {\n          return _this7.switchView(child);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), React.createElement(Icon, {\n        type: \"setting\",\n        theme: \"filled\",\n        onClick: function onClick() {\n          return _this7.props.history.push('/default-settings');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"primary\",\n        className: \"generateNewNote\",\n        onClick: function onClick() {\n          return _this7.createNote(localStorage.getItem('email'));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"New Document\"))), React.createElement(\"div\", {\n        className: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(Table, {\n        dataSource: this.state.notes,\n        className: \"notesTable\",\n        rowKey: \"_id\",\n        columns: this.state.noteColumns,\n        pagination: {\n          defaultPageSize: 5\n        },\n        rowClassName: function rowClassName(record) {\n          return record.noteColor;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["/Users/chrisackerman/Documents/Institute/WriteFree/front-end/WriteFree-frontend/draftjs/src/components/Dashboard.js"],"names":["React","Table","Button","Switch","Input","Menu","Dropdown","Icon","Popconfirm","withRouter","request","axios","Walkthrough","CardNote","NavigationBar","mergeSort","Search","Dashboard","props","state","notes","credentials","runTutorial","menu","sortNotes","noteColumns","title","dataIndex","render","text","record","style","background","noteColor","children","className","goToNote","_id","deleteNote","localStorage","getItem","history","push","id","refreshToken","AuthStr","concat","get","headers","Authorization","then","response","console","log","setItem","data","access_token","catch","error","access_token_new","params","setState","email","accessToken","parsedData","AuthStr2","clear","child","isTableView","option","sortedNotes","query","trim","length","filteredNotes","note","toLowerCase","includes","category","noteID","method","url","qs","body","JSON","parse","pathname","document","backgroundColor","searchContent","searchNotes","target","value","width","switchView","createNote","color","defaultPageSize","Component"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React from 'react';\nimport { Table, Button, Switch, Input, Menu, Dropdown, Icon, Popconfirm } from 'antd';\nimport 'antd/dist/antd.css';\nimport { withRouter } from 'react-router-dom';\nimport request from 'request';\nimport axios from 'axios';\nimport Walkthrough from './Walkthrough';\nimport CardNote from './CardNote/CardNote';\nimport NavigationBar from './NavigationBar';\nimport '../css/dashboard.css';\nimport { mergeSort } from '../defaults/constants';\n\nconst Search = Input.Search;\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n      notes: null,\n      credentials: { runTutorial: null },\n      menu: (\n        <Menu>\n          <Menu.Item>\n            <a onClick={() => this.sortNotes('category')}>By Category</a>\n          </Menu.Item>\n          <Menu.Item>\n            <a onClick={() => this.sortNotes('lastUpdated')}>By Last Updated</a>\n          </Menu.Item>\n          <Menu.Item>\n            <a onClick={() => this.sortNotes('title')}>By Name (A-Z)</a>\n          </Menu.Item>\n        </Menu>\n      ),\n      noteColumns: [{\n        title: 'Document Name',\n        dataIndex: 'title',\n        render(text, record) {\n          return {\n            props: {\n              style: { background: record.noteColor },\n            },\n            children: <div>{text}</div>,\n          };\n        },\n      }, {\n        title: 'Date Created',\n        dataIndex: 'createdAt',\n        render(text, record) {\n          return {\n            props: {\n              style: { background: record.noteColor },\n            },\n            children: <div>{text}</div>,\n          };\n        },\n      }, {\n        title: 'Last Updated',\n        dataIndex: 'lastUpdated',\n        render(text, record) {\n          return {\n            props: {\n              style: { background: record.noteColor },\n            },\n            children: <div>{text}</div>,\n          };\n        },\n      }, {\n        title: 'Category',\n        dataIndex: 'category',\n        render(text, record) {\n          return {\n            props: {\n              style: { background: record.noteColor },\n            },\n            children: <div>{text}</div>,\n          };\n        },\n      }, {\n        title: 'Action',\n        className: \"classNameOfColumn\",\n          render: (text, record) => {\n              return (\n              <div>\n                  <a className={'editNote'} onClick={() => this.goToNote(record._id)}>Edit | </a>\n                  <Popconfirm\n                      title=\"Are you sure you want to delete this note?\"\n                      onConfirm={() => this.deleteNote(localStorage.getItem('email'), record._id)}\n                      okText=\"Yes\"\n                      cancelText=\"No\">\n                      <a className={'deleteNote'}>Delete</a>\n                  </Popconfirm>\n              </div>\n          );\n          },\n      }],\n    };\n  }\n\n  componentDidMount() {\n      if (!localStorage.getItem('id')){\n          return this.props.history.push('/login')\n      }\n    const id = localStorage.getItem('id');\n    const refreshToken = localStorage.getItem('refresh_token');\n    let AuthStr = 'Bearer '.concat(refreshToken);\n    axios.get('http://127.0.0.1:5000/refresh', { headers: { Authorization: AuthStr } }).then((response) => {\n        console.log(\"NEW ACCESS TOKEN\");\n      localStorage.setItem('access_token', response.data.access_token);\n        console.log(localStorage.getItem('access_token'));\n    }).catch((error) => {\n      console.log(error, 'ERROR - BAD REFRESH TOKEN');\n    });\n    const access_token_new = localStorage.getItem('access_token');\n    AuthStr = 'Bearer '.concat(access_token_new);\n    axios.get('http://127.0.0.1:5000/get-data', { headers: { Authorization: AuthStr }, params: { id } }).then((response) => {\n      this.setState({\n        notes: response.data.notes,\n        credentials: response.data.credentials,\n      });\n    }).catch((error) => {\n      console.log(error, 'ERROR - INVALID or NO COOKIES');\n    });\n  }\n\n\n\n  createNote(email) {\n    const accessToken = localStorage.getItem('access_token');\n    const AuthStr = 'Bearer '.concat(accessToken);\n    const headers = { Authorization: AuthStr };\n\n    console.log(headers);\n    axios.get('http://127.0.0.1:5000/new-note', {headers:headers}).then((response) => {\n        const parsedData = response.data;\n        this.goToNote(parsedData._id);\n    });\n\n  }\n\n  logout() {\n    const accessToken = localStorage.getItem('access_token');\n    const refreshToken = localStorage.getItem('refresh_token');\n    const AuthStr = 'Bearer '.concat(accessToken);\n    const AuthStr2 = 'Bearer '.concat(refreshToken);\n    const headers = { Authorization: AuthStr };\n    axios.get('http://127.0.0.1:5000/logout', { headers });\n    axios.get('http://127.0.0.1:5000/logout2', { headers: { Authorization: AuthStr2 } }).then((response) => {\n      localStorage.clear();\n      this.props.history.push('/login');\n    });\n  }\n\n  switchView(child) {\n    if (child) {\n      this.setState({ isTableView: true });\n    } else {\n      this.setState({ isTableView: false });\n    }\n  }\n\n  sortNotes(option) {\n    const sortedNotes = mergeSort(this.state.notes, option);\n    this.setState({ notes: sortedNotes });\n  }\n\n  searchNotes(query){\n      const accessToken = localStorage.getItem('access_token');\n      const AuthStr = 'Bearer '.concat(accessToken);\n      const headers = { Authorization: AuthStr };\n\n      axios.get('http://127.0.0.1:5000/get-notes', {headers:headers}).then((response) => {\n          var parsedData = response.data;\n                  if (query.trim().length !== 0){\n            const filteredNotes = [];\n            for (let note in parsedData.notes){\n                if (parsedData.notes[note].title.toLowerCase().includes(query.toLowerCase()) ||\n                    parsedData.notes[note].category.toLowerCase().includes(query.toLowerCase())){\n                    filteredNotes.push(parsedData.notes[note])\n                }\n            }\n            this.setState({'notes': filteredNotes})\n        } else {\n            this.setState({'notes': parsedData.notes})\n        }\n      });\n  }\n\n    deleteNote(email, noteID) {\n        const accessToken = localStorage.getItem('access_token');\n        const AuthStr = 'Bearer '.concat(accessToken);\n        const headers = { Authorization: AuthStr, 'Content-Type': 'application/x-www-form-urlencoded' };\n\n        const deleteNote = {\n            method: 'DELETE',\n            url: 'http://127.0.0.1:5000/delete-note',\n            qs: { noteID },\n            headers: headers,\n        };\n        request(deleteNote, (error, response, body) => {\n\n            const parsedData = JSON.parse(body);\n            this.setState({ notes: parsedData.notes });\n        });\n    }\n\n    goToNote(noteID){\n        this.props.history.push({\n            pathname: `/note/${noteID}`,\n            state: { noteID },\n        });\n    }\n\n  render() {\n    document.body.style.backgroundColor = \"#eaeaea\";\n    if (!this.state.isTableView) {\n      return (\n      <div style={{background: \"#eaeaea\"}}>\n            <NavigationBar/>\n            <div className={\"middle\"}>\n                <div className={\"child\"}>\n                    <Walkthrough runTutorial={this.state.credentials.runTutorial} />\n                    <Search\n                        onChange={searchContent => this.searchNotes(searchContent.target.value)}\n                        style={{ width: 200 }}\n                    />\n                    <Dropdown overlay={this.state.menu}>\n                       <Icon type=\"filter\" theme=\"filled\" style={{'color': '#466fb5'}}/>\n                    </Dropdown>\n                    <Switch checkedChildren=\"table\" unCheckedChildren=\"card\" onChange={child => this.switchView(child)} />\n                    <Icon type=\"setting\" theme=\"filled\" onClick={() => this.props.history.push('/default-settings')} />\n                    <Button type=\"primary\" className=\"generateNewNote\" onClick={() => this.createNote(localStorage.getItem('email'))}>New Document</Button>\n                </div>\n            </div>\n            <div className={\"bottom\"}>\n              <CardNote notes={this.state.notes} history={this.props.history} style={{color: \"#ffffff\"}}/>\n            </div>\n        </div>\n      )\n    }\n    return (\n      <div style={{background: \"#eaeaea\"}}>\n        <NavigationBar/>\n        <div className={\"middle\"}>\n            <div className={\"child\"}>\n            <Walkthrough runTutorial={this.state.credentials.runTutorial} />\n                  <Search\n                      onChange={searchContent => this.searchNotes(searchContent.target.value)}\n                      style={{ width: 200 }}\n                  />\n            <Dropdown overlay={this.state.menu}>\n                <Icon type=\"filter\" theme=\"filled\" style={{'color': '#466fb5'}}/>\n            </Dropdown>\n            <Switch checkedChildren=\"table\" unCheckedChildren=\"card\" defaultChecked onChange={child => this.switchView(child)} />\n            <Icon type=\"setting\" theme=\"filled\" onClick={() => this.props.history.push('/default-settings')} />\n            <Button type=\"primary\" className=\"generateNewNote\" onClick={() => this.createNote(localStorage.getItem('email'))}>New Document</Button>\n            </div>\n        </div>\n        <div className={\"bottom\"}>\n            <Table\n                dataSource={this.state.notes}\n                className=\"notesTable\"\n                rowKey=\"_id\"\n                columns={this.state.noteColumns}\n                pagination={{defaultPageSize: 5}}\n                rowClassName={(record) => record.noteColor}\n            />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Dashboard);\n"]},"metadata":{},"sourceType":"module"}